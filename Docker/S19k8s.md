# k8s

integrated platforms: 1- containerd.io (low level) 2- CRI-O (high level) 3- CRI-dockerd(mirantis) (mid level) [docker (highlevel)]


### mirantis

is cloud tools - its a tools of openstack - 

before version 1.24 k8s mid level connection between k8s and docker was dockershim.

k8s (v1.23) ---> dockershim -----> docker

but in version 1.24 , k8s to upgrade older version to it introduced cri-o dockerd (by mirantis co.) to keep connection with docker in servers

k8s (v1.24) ---> cri-o dockerd (by mirantis co.) -----> docker


https://kubernetes.io/docs/setup/production-environment/container-runtimes


Note: These instructions assume that you are using the cri-dockerd adapter to integrate Docker Engine with Kubernetes.

k8s prioroty for container runtime:

1- containerd  --- is recommanded
2- CRI-O
3- Docker Engine
4- Mirantis Container Runtime

for use docker engin follow instruction:

Docker Engine
Note: These instructions assume that you are using the cri-dockerd adapter to integrate Docker Engine with Kubernetes.
On each of your nodes, install Docker for your Linux distribution as per Install Docker Engine.

Install cri-dockerd, following the instructions in that source code repository.

For cri-dockerd, the CRI socket is /run/cri-dockerd.sock by default.

Mirantis Container Runtime 
Mirantis Container Runtime (MCR) is a commercially available container runtime that was formerly known as Docker Enterprise Edition.

You can use Mirantis Container Runtime with Kubernetes using the open source cri-dockerd component, included with MCR.

To learn more about how to install Mirantis Container Runtime, visit MCR Deployment Guide.

Check the systemd unit named cri-docker.socket to find out the path to the CRI socket.




### etcd or cluster store:

its stand for /etc distributed. its a store to keep config files. acces only by api server. its a key-value based meta data storage to manage critical infor mation about cluster. its highly recommand to have backup plan for etcd in cluster .

cause if master node in k8s crash or has benn down , all cluster would be lost. if you have backup from etcd just run another k8s and restore etcd in it and all you have restore in it. 






